import os
import json

data = ["2019-05-31", "2019-06-01", "2019-06-02", "2019-06-03", "2019-06-04", "2019-06-05", "2019-06-06",
            "2019-06-07", "2019-06-08", "2019-06-09", "2019-06-10", "2019-06-11", "2019-06-12", "2019-06-13"]
sfour=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
sfive=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
ssix=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
sseven=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
seight=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
snigh=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
sten=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
seleven=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
stwelve=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
sthirteen=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,0,0,0,0,0,0,0,0]
all=[0,0,0,0,0,0,0,0,0,0,0,0,0,0]
path="F:/毕设相关/dataset_2/dataset_2/db/db"
files=os.listdir(path)   #获得文件夹下所有文件名称
for file in files:     #遍历所有文件
    print(file)
    if not os.path.isdir(file):  #判断是否是文件夹，不是文件夹才打开
        f = open(path + '/' + file, encoding='utf-8')
        setting = json.load(f)
    # print(len(setting))
        for i in range(0, len(setting)):  # 文件行数循环
            for k in range(4,14):
                if(setting[i]['record_time'][8:10]==str(k).zfill(2)):   #[0, 0, 0, 0, 440684, 406113, 430257, 409687, 262233, 450180, 338913, 380814, 385712, 374300]
                    all[k]=all[k]+1

print(all)

#                 if(setting[i]['record_time'][8:10]== '04'):
#                     for k in range(00,24):
#                         if( str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             sfour[k]=sfour[k]+1
#                 elif (setting[i]['record_time'][8:10] == '05'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             sfive[k] = sfive[k] + 1
#
#                 elif (setting[i]['record_time'][8:10] == '06'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             ssix[k] = ssix[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '07'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             sseven[k] = sseven[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '08'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             seight[k] = seight[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '09'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             snigh[k] = snigh[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '10'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             sten[k] = sten[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '11'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             seleven[k] = seleven[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '12'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             stwelve[k] = stwelve[k] + 1
#                 elif (setting[i]['record_time'][8:10] == '13'):
#                     for k in range(00, 24):
#                         if (str(k).zfill(2) == setting[i]['record_time'][11:13]):
#                             sthirteen[k] = sthirteen[k] + 1
#
# print('sfour:',sfour,'\n',
#       'sfive:', sfive, '\n',
#       'ssix:', ssix, '\n',
#       'sseven:', sseven, '\n',
#       'seight:', seight, '\n',
#       'snigh:', snigh, '\n',
#       'sten:', sten, '\n',
#       'seleven:', seleven, '\n',
#       'stwelve:', stwelve, '\n',
#       'sthirteen:', sthirteen, '\n')
# sfour: [11665, 22112, 12267, 21034, 24540, 23042, 23188, 25005, 22197, 15774, 16892, 5396, 10762, 21858, 18921, 17831, 14936, 13797, 14751, 17656, 19764, 22650, 21902, 22744]
#  sfive: [18144, 20428, 14750, 17608, 18064, 13808, 19932, 19660, 21415, 20191, 13539, 4977, 9933, 18670, 9982, 15167, 19720, 17361, 16189, 10487, 18716, 22329, 21698, 23345]
#  ssix: [22933, 19772, 9072, 16673, 23583, 23859, 24183, 23183, 22139, 22105, 9895, 3777, 10116, 14544, 14626, 12426, 11981, 16695, 16803, 15305, 18554, 21016, 16316, 40701]
#  sseven: [23136, 19421, 20458, 19372, 18077, 20669, 22935, 19759, 19048, 10816, 4062, 7660, 12409, 14191, 12854, 8791, 17258, 22366, 21437, 22170, 22735, 22087, 20059, 7917]
#  seight: [8174, 6818, 8215, 12050, 10066, 11787, 11565, 12496, 11874, 6627, 2692, 3977, 9113, 13279, 11895, 12387, 13621, 11607, 12428, 12343, 12125, 12280, 12649, 22165]
#  snigh: [21080, 18340, 21428, 23637, 23102, 22318, 23773, 22841, 21170, 10149, 4385, 7155, 10400, 15588, 21070, 20030, 15600, 22425, 21970, 22626, 22616, 22031, 22460, 13986]
#  sten: [16018, 17188, 22907, 23408, 23280, 22105, 23176, 22956, 15945, 5987, 2128, 5931, 13848, 5341, 10521, 7269, 5960, 8555, 9536, 12286, 19385, 20851, 19045, 5287]
#  seleven: [19195, 19927, 10910, 18509, 21122, 21110, 22423, 21163, 20500, 19501, 11807, 3746, 7486, 16899, 13916, 10469, 12319, 12847, 13918, 17398, 18091, 17061, 13078, 17419]
#  stwelve: [19096, 18246, 8396, 17271, 21742, 20617, 22194, 20632, 19854, 16994, 9071, 3539, 6945, 13832, 13061, 10647, 14899, 17096, 15772, 14042, 19575, 19898, 21265, 21028]
#  sthirteen: [21508, 19292, 11123, 16712, 19949, 20790, 24809, 22325, 22160, 20421, 11456, 4362, 9800, 12265, 12598, 9999, 13101, 14649, 13339, 15757, 14617, 18185, 13308, 11775]

#
# record=['2019-06-04 00:29:04.445']
# print(record[0][8:10])    #04
# print(record[0][11:13].zfill(2))    #00
# for k in range(00,24):
#     print(str(k).zfill(2))